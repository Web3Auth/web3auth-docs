---
title: Integrate with the Ethereum Blockchain with Web3Auth
sidebar_label: Ethereum

displayed_sidebar: docs
---

import GetUserInfoSnippet from "@site/docs/common-snippets/_get-userinfo.mdx";
import TabItem from "@theme/TabItem";
import Tabs from "@theme/Tabs";

## Installation

To interact with the Ethereum blockchain, you can use either [web3.js](https://web3js.readthedocs.io/en/v1.2.8/getting-started.html) or
[ethers.js](https://docs.ethers.io/v5/getting-started/) libraries with Web3Auth.

<Tabs
  defaultValue="web3"
  values={[
    { label: "Web3.js", value: "web3" },
    { label: "Ethers.js", value: "ethers" },
  ]}
>
<TabItem value="web3">

<Tabs
  defaultValue="npm"
  values={[
    { label: "NPM", value: "npm" },
    { label: "Yarn", value: "yarn" },
    { label: "CDN", value: "cdn" },
  ]}
>
<TabItem value="npm">

```shell
npm install --save web3
```

</TabItem>
<TabItem value="yarn">

```shell
yarn add web3
```

</TabItem>
<TabItem value="cdn">

```shell
<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
```

</TabItem>
</Tabs>

</TabItem>
<TabItem value="ethers">

<Tabs
  defaultValue="npm"
  values={[
    { label: "NPM", value: "npm" },
    { label: "Yarn", value: "yarn" },
    { label: "CDN", value: "cdn" },
  ]}
>
<TabItem value="npm">

```shell
npm install --save ethers
```

</TabItem>
<TabItem value="yarn">

```shell
yarn add ethers
```

</TabItem>
<TabItem value="cdn">

```shell
<script src="https://cdn.ethers.io/scripts/ethers-v4.min.js"></script>
```

</TabItem>
</Tabs>

</TabItem>
</Tabs>

## Initializing Provider

Using `eip155` as `chainNamespace` while initializing `web3auth` will provide an `EIP1193` compatible provider as **`web3auth.provider`** after
successful authentication.

<Tabs
  defaultValue="web3"
  values={[
    { label: "Web3.js", value: "web3" },
    { label: "Ethers.js", value: "ethers" },
  ]}
>
<TabItem value="web3">

<Tabs
  defaultValue="ts"
  values={[
    { label: "ES Modules/TypeScript", value: "ts" },
    { label: "CommonJS", value: "js" },
  ]}
>
<TabItem value="ts">

```js
import { Web3Auth } from "@web3auth/web3auth";
import Web3 from "web3";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const web3 = new Web3(web3authProvider); // web3auth.provider
```

</TabItem>
<TabItem value="js">

```js
const { Web3Auth } = require("@web3auth/web3auth");
const Web3 = require("web3");

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten, hex of 3
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const web3 = new Web3(web3authProvider); // web3auth.provider
```

</TabItem>
</Tabs>

</TabItem>
<TabItem value="ethers">

<Tabs
  defaultValue="ts"
  values={[
    { label: "ES Modules/TypeScript", value: "ts" },
    { label: "CommonJS", value: "js" },
  ]}
>
<TabItem value="ts">

```js
import { Web3Auth } from "@web3auth/web3auth";
import { ethers } from "ethers";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten, hex of 3
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const provider = new ethers.providers.Web3Provider(web3authProvider); // web3auth.provider
```

</TabItem>
<TabItem value="js">

```js
const { Web3Auth } = require("@web3auth/web3auth");
const ethers = require("ethers");

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const provider = new ethers.providers.Web3Provider(web3authProvider); // web3auth.provider
```

</TabItem>
</Tabs>

</TabItem>
</Tabs>

## Get User Info

<GetUserInfoSnippet />

## Get Account and Balance

<Tabs
defaultValue="web3"
values={[
  { label: "Web3", value: "web3" },
  { label: "Ethers.js", value: "ethers.js" },
]}
>
<TabItem value="web3">

```js
import { Web3Auth } from "@web3auth/web3auth";
import Web3 from "web3";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const web3 = new Web3(web3authProvider);

// Get user's Ethereum public address
const address = (await web3.eth.getAccounts())[0];

// Get user's balance in ether
const balance = web3.utils.fromWei(
  await web3.eth.getBalance(address) // Balance is in wei
);
```

  </TabItem>
<TabItem value="ethers.js">

```js
import { Web3Auth } from "@web3auth/web3auth";
import { ethers } from "ethers";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const provider = new ethers.providers.Web3Provider(web3authProvider);

const signer = provider.getSigner();

// Get user's Ethereum public address
const address = await signer.getAddress();

// Get user's balance in ether
const balance = ethers.utils.formatEther(
  await provider.getBalance(userAddress) // Balance is in wei
);
```

</TabItem>

</Tabs>

## Send Transaction

<Tabs
  defaultValue="web3"
  values={[
    { label: "Web3.js", value: "web3" },
    { label: "Ethers.js", value: "ethers" },
  ]}
>
<TabItem value="web3">

```js
import { Web3Auth } from "@web3auth/web3auth";
import Web3 from "web3";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const web3 = new Web3(web3authProvider);

// Get user's Ethereum public address
const fromAddress = (await web3.eth.getAccounts())[0];

const destination = "0x7aFac68875d2841dc16F1730Fba43974060b907A";
const amount = web3.utils.toWei(1); // Convert 1 ether to wei

// Submit transaction to the blockchain and wait for it to be mined
const receipt = await web3.eth.sendTransaction({
  from: fromAddress,
  to: destination,
  value: amount,
});
```

</TabItem>
<TabItem value="ethers">

```js
import { Web3Auth } from "@web3auth/web3auth";
import { ethers } from "ethers";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const provider = new ethers.providers.Web3Provider(web3authProvider);

const signer = provider.getSigner();

const destination = "0x7aFac68875d2841dc16F1730Fba43974060b907A";
const amount = ethers.utils.parseEther("1.0"); // Convert 1 ether to wei

// Submit transaction to the blockchain
const tx = await signer.sendTransaction({
  to: destination,
  value: amount,
});

// Wait for transaction to be mined
const receipt = await tx.wait();
```

</TabItem>
</Tabs>

## Sign Message

### Personal Sign

<Tabs
  defaultValue="web3"
  values={[
    { label: "Web3.js", value: "web3" },
    { label: "Ethers.js", value: "ethers" },
  ]}
>
<TabItem value="web3">

```js
import { Web3Auth } from "@web3auth/web3auth";
import Web3 from "web3";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const web3 = new Web3(web3authProvider);

// Get user's Ethereum public address
const fromAddress = (await web3.eth.getAccounts())[0];

const originalMessage = "YOUR_MESSAGE";

const signedMessage = await web3.eth.personal.sign(originalMessage, fromAddress);
```

</TabItem>
<TabItem value="ethers">

```js
import { Web3Auth } from "@web3auth/web3auth";
import { ethers } from "ethers";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const provider = new ethers.providers.Web3Provider(web3authProvider);

const signer = provider.getSigner();

const originalMessage = "YOUR_MESSAGE";

const signedMessage = await signer.signMessage(originalMessage);
```

</TabItem>
</Tabs>

### Sign Typed Data v1

<Tabs
  defaultValue="web3"
  values={[
    { label: "Web3.js", value: "web3" },
    { label: "Ethers.js", value: "ethers" },
  ]}
>
<TabItem value="web3">

```js
import { Web3Auth } from "@web3auth/web3auth";
import Web3 from "web3";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const web3 = new Web3(web3authProvider);

// Get user's Ethereum public address
const fromAddress = (await web3.eth.getAccounts())[0];

const originalMessage = [
  {
    type: "string",
    name: "fullName",
    value: "Satoshi Nakamoto",
  },
  {
    type: "uint32",
    name: "userId",
    value: "1212",
  },
];
const params = [originalMessage, fromAddress];
const method = "eth_signTypedData";

const signedMessage = await web3.currentProvider.sendAsync({
  id: 1,
  method,
  params,
  fromAddress,
});
```

</TabItem>
<TabItem value="ethers">

```js
import { Web3Auth } from "@web3auth/web3auth";
import { ethers } from "ethers";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const provider = new ethers.providers.Web3Provider(web3authProvider);

const signer = provider.getSigner();

// Get user's Ethereum public address
const fromAddress = await signer.getAddress();

const originalMessage = [
  {
    type: "string",
    name: "fullName",
    value: "Satoshi Nakamoto",
  },
  {
    type: "uint32",
    name: "userId",
    value: "1212",
  },
];
const params = [originalMessage, fromAddress];
const method = "eth_signTypedData";

const signedMessage = await signer.provider.send(method, params);
```

</TabItem>
</Tabs>

### Sign Typed Data v3

<Tabs
  defaultValue="web3"
  values={[
    { label: "Web3.js", value: "web3" },
    { label: "Ethers.js", value: "ethers" },
  ]}
>
<TabItem value="web3">

```js
import { Web3Auth } from "@web3auth/web3auth";
import Web3 from "web3";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const web3 = new Web3(web3authProvider);

// Get user's Ethereum public address
const fromAddress = (await web3.eth.getAccounts())[0];

const originalMessage = {
  types: {
    EIP712Domain: [
      {
        name: "name",
        type: "string",
      },
      {
        name: "version",
        type: "string",
      },
      {
        name: "verifyingContract",
        type: "address",
      },
    ],
    Greeting: [
      {
        name: "contents",
        type: "string",
      },
    ],
  },
  primaryType: "Greeting",
  domain: {
    name: "web3auth",
    version: "1",
    verifyingContract: "0xE0cef4417a772512E6C95cEf366403839b0D6D6D",
  },
  message: {
    contents: "Hello, from Web3Auth!",
  },
};
const params = [fromAddress, originalMessage];
const method = "eth_signTypedData_v3";

const signedMessage = await web3.currentProvider.sendAsync({
  id: 1,
  method,
  params,
  fromAddress,
});
```

</TabItem>
<TabItem value="ethers">

```js
import { Web3Auth } from "@web3auth/web3auth";
import { ethers } from "ethers";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const provider = new ethers.providers.Web3Provider(web3authProvider);

const signer = provider.getSigner();

// Get user's Ethereum public address
const fromAddress = await signer.getAddress();

const originalMessage = {
  types: {
    EIP712Domain: [
      {
        name: "name",
        type: "string",
      },
      {
        name: "version",
        type: "string",
      },
      {
        name: "verifyingContract",
        type: "address",
      },
    ],
    Greeting: [
      {
        name: "contents",
        type: "string",
      },
    ],
  },
  primaryType: "Greeting",
  domain: {
    name: "web3auth",
    version: "1",
    verifyingContract: "0xE0cef4417a772512E6C95cEf366403839b0D6D6D",
  },
  message: {
    contents: "Hello, from Web3Auth!",
  },
};

const params = [fromAddress, originalMessage];
const method = "eth_signTypedData_v3";

const signedMessage = await signer.provider.send(method, params);
```

</TabItem>
</Tabs>

### Sign Typed Data v4

<Tabs
  defaultValue="web3"
  values={[
    { label: "Web3.js", value: "web3" },
    { label: "Ethers.js", value: "ethers" },
  ]}
>
<TabItem value="web3">

```js
/*
  Sign Typed Data v4 adds support for
  arrays and recursive data types.

  Otherwise, it works the same as Sign Typed Data v3.
*/
import { Web3Auth } from "@web3auth/web3auth";
import Web3 from "web3";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const web3 = new Web3(web3authProvider);

// Get user's Ethereum public address
const fromAddress = (await web3.eth.getAccounts())[0];

const originalMessage = {
  types: {
    EIP712Domain: [
      {
        name: "name",
        type: "string",
      },
      {
        name: "version",
        type: "string",
      },
      {
        name: "verifyingContract",
        type: "address",
      },
    ],
    Greeting: [
      {
        name: "contents",
        type: "string",
      },
    ],
  },
  primaryType: "Greeting",
  domain: {
    name: "web3auth",
    version: "1",
    verifyingContract: "0xE0cef4417a772512E6C95cEf366403839b0D6D6D",
  },
  message: {
    contents: "Hello, from Web3Auth!",
  },
};
const params = [fromAddress, originalMessage];
const method = "eth_signTypedData_v4";

const signedMessage = await web3.currentProvider.sendAsync({
  id: 1,
  method,
  params,
  fromAddress,
});
```

</TabItem>
<TabItem value="ethers">

```js
import { Web3Auth } from "@web3auth/web3auth";
import { ethers } from "ethers";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const provider = new ethers.providers.Web3Provider(web3authProvider);

const signer = provider.getSigner();

// Get user's Ethereum public address
const fromAddress = await signer.getAddress();

const originalMessage = {
  types: {
    EIP712Domain: [
      {
        name: "name",
        type: "string",
      },
      {
        name: "version",
        type: "string",
      },
      {
        name: "verifyingContract",
        type: "address",
      },
    ],
    Greeting: [
      {
        name: "contents",
        type: "string",
      },
    ],
  },
  primaryType: "Greeting",
  domain: {
    name: "web3auth",
    version: "1",
    verifyingContract: "0xE0cef4417a772512E6C95cEf366403839b0D6D6D",
  },
  message: {
    contents: "Hello, from Web3Auth!",
  },
};
const params = [fromAddress, originalMessage];
const method = "eth_signTypedData_v4";

const signedMessage = await signer.provider.send(method, params);
```

</TabItem>
</Tabs>

## Smart Contract

#### Solidity Contract

In this example, we'll be demonstrating how to use Web3Auth with web3.js or ethers.js to interact with Solidity smart contracts. The simple Hello
World contract allows anyone to read and write a message to it.

```js
pragma solidity ^0.5.10;

contract HelloWorld {

  string public message;

  constructor(string memory initMessage) public {
    message = initMessage;
  }

  function update(string memory newMessage) public {
    message = newMessage;
  }
}
```

### Deploy Contract

<Tabs
  defaultValue="web3"
  values={[
    { label: "Web3.js", value: "web3" },
    { label: "Ethers.js", value: "ethers" },
  ]}
>
<TabItem value="web3">

```js
import { Web3Auth } from "@web3auth/web3auth";
import Web3 from "web3";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const web3 = new Web3(web3authProvider);

const contractABI =
  '[{"constant":false,"inputs":[{"name":"newMessage","type":"string"}],"name":"update","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"message","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"initMessage","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]';
const contractByteCode =
  "608060405234801561001057600080fd5b506040516104623803806104628339818101604052602081101561003357600080fd5b81019080805164010000000081111561004b57600080fd5b8281019050602081018481111561006157600080fd5b815185600182028301116401000000008211171561007e57600080fd5b5050929190505050806000908051906020019061009c9291906100a3565b5050610148565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106100e457805160ff1916838001178555610112565b82800160010185558215610112579182015b828111156101115782518255916020019190600101906100f6565b5b50905061011f9190610123565b5090565b61014591905b80821115610141576000816000905550600101610129565b5090565b90565b61030b806101576000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80633d7403a31461003b578063e21f37ce146100f6575b600080fd5b6100f46004803603602081101561005157600080fd5b810190808035906020019064010000000081111561006e57600080fd5b82018360208201111561008057600080fd5b803590602001918460018302840111640100000000831117156100a257600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610179565b005b6100fe610193565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561013e578082015181840152602081019050610123565b50505050905090810190601f16801561016b5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b806000908051906020019061018f929190610231565b5050565b60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102295780601f106101fe57610100808354040283529160200191610229565b820191906000526020600020905b81548152906001019060200180831161020c57829003601f168201915b505050505081565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061027257805160ff19168380011785556102a0565b828001600101855582156102a0579182015b8281111561029f578251825591602001919060010190610284565b5b5090506102ad91906102b1565b5090565b6102d391905b808211156102cf5760008160009055506001016102b7565b5090565b9056fea265627a7a72305820a58716d2c2342b3cc5028e49842810b98f5c3f2c1591e8c7f3ec916096f6a03264736f6c634300050a0032";
const contract = new web3.eth.Contract(JSON.parse(contractABI));

// Deploy contract with "Hello World!" in the constructor and wait to finish
const contractInstance = await contract
  .deploy({
    data: contractByteCode,
    arguments: ["Hello World!"],
  })
  .send({
    from: fromAddress,
  });
```

</TabItem>
<TabItem value="ethers">

```js
import { Web3Auth } from "@web3auth/web3auth";
import { ethers } from "ethers";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const provider = new ethers.providers.Web3Provider(web3authProvider);

const signer = provider.getSigner();

const contractABI =
  '[{"constant":false,"inputs":[{"name":"newMessage","type":"string"}],"name":"update","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"message","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"initMessage","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]';
const contractByteCode =
  "608060405234801561001057600080fd5b506040516104623803806104628339818101604052602081101561003357600080fd5b81019080805164010000000081111561004b57600080fd5b8281019050602081018481111561006157600080fd5b815185600182028301116401000000008211171561007e57600080fd5b5050929190505050806000908051906020019061009c9291906100a3565b5050610148565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106100e457805160ff1916838001178555610112565b82800160010185558215610112579182015b828111156101115782518255916020019190600101906100f6565b5b50905061011f9190610123565b5090565b61014591905b80821115610141576000816000905550600101610129565b5090565b90565b61030b806101576000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80633d7403a31461003b578063e21f37ce146100f6575b600080fd5b6100f46004803603602081101561005157600080fd5b810190808035906020019064010000000081111561006e57600080fd5b82018360208201111561008057600080fd5b803590602001918460018302840111640100000000831117156100a257600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610179565b005b6100fe610193565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561013e578082015181840152602081019050610123565b50505050905090810190601f16801561016b5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b806000908051906020019061018f929190610231565b5050565b60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102295780601f106101fe57610100808354040283529160200191610229565b820191906000526020600020905b81548152906001019060200180831161020c57829003601f168201915b505050505081565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061027257805160ff19168380011785556102a0565b828001600101855582156102a0579182015b8281111561029f578251825591602001919060010190610284565b5b5090506102ad91906102b1565b5090565b6102d391905b808211156102cf5760008160009055506001016102b7565b5090565b9056fea265627a7a72305820a58716d2c2342b3cc5028e49842810b98f5c3f2c1591e8c7f3ec916096f6a03264736f6c634300050a0032";

// Deploy contract with "Hello World!" in the constructor
const contract = await contractFactory.deploy("Hello World!");

// Wait for deployment to finish
const receipt = await contract.deployed();
```

</TabItem>
</Tabs>

### Read From Contract

<Tabs
  defaultValue="web3"
  values={[
    { label: "Web3.js", value: "web3" },
    { label: "Ethers.js", value: "ethers" },
  ]}
>
<TabItem value="web3">

```js
import { Web3Auth } from "@web3auth/web3auth";
import Web3 from "web3";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const web3 = new Web3(web3authProvider);

// Get user's Ethereum public address
const fromAddress = (await web3.eth.getAccounts())[0];

const contractABI =
  '[{"constant":false,"inputs":[{"name":"newMessage","type":"string"}],"name":"update","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"message","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"initMessage","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]';
const contractAddress = "0x1dce94bb358785c2fa27b74551f8aea24d3d0afe";
const contract = new web3.eth.Contract(JSON.parse(contractABI), contractAddress);

// Read message from smart contract
const message = await contract.methods.message().call();
```

</TabItem>
<TabItem value="ethers">

```js
import { Web3Auth } from "@web3auth/web3auth";
import { ethers } from "ethers";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const provider = new ethers.providers.Web3Provider(web3authProvider);

const signer = provider.getSigner();

const contractABI =
  '[{"constant":false,"inputs":[{"name":"newMessage","type":"string"}],"name":"update","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"message","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"initMessage","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]';
const contractAddress = "0x1dce94bb358785c2fa27b74551f8aea24d3d0afe";

const contract = new ethers.Contract(contractAddress, contractABI, signer);

// Read message from smart contract
const message = await contract.message();
```

</TabItem>
</Tabs>

### Write to Contract

<Tabs
  defaultValue="web3"
  values={[
    { label: "Web3.js", value: "web3" },
    { label: "Ethers.js", value: "ethers" },
  ]}
>
<TabItem value="web3">

```js
import { Web3Auth } from "@web3auth/web3auth";
import Web3 from "web3";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const web3 = new Web3(web3authProvider);

// Get user's Ethereum public address
const fromAddress = (await web3.eth.getAccounts())[0];

const contractABI =
  '[{"constant":false,"inputs":[{"name":"newMessage","type":"string"}],"name":"update","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"message","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"initMessage","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]';
const contractAddress = "0x1dce94bb358785c2fa27b74551f8aea24d3d0afe";
const contract = new web3.eth.Contract(JSON.parse(contractABI), contractAddress);

// Send transaction to smart contract to update message and wait to finish
const receipt = await contract.methods.update("NEW_MESSAGE").send({ from: fromAddress });
```

</TabItem>
<TabItem value="ethers">

```js
import { Web3Auth } from "@web3auth/web3auth";
import { ethers } from "ethers";

const web3auth = new Web3Auth({
  clientId: "YOUR_CLIENT_ID", // get it from Web3Auth Dashboard
  chainConfig: {
    chainNamespace: "EIP155",
    chainId: "0x3", // ropsten
  },
});
await web3auth.initModal();

const web3authProvider = web3auth.connect();

const provider = new ethers.providers.Web3Provider(web3authProvider);

const signer = provider.getSigner();

const contractABI =
  '[{"constant":false,"inputs":[{"name":"newMessage","type":"string"}],"name":"update","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"message","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"initMessage","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]';
const contractAddress = "0x1dce94bb358785c2fa27b74551f8aea24d3d0afe";
const contract = new ethers.Contract(contractAddress, contractABI, signer);

// Send transaction to smart contract to update message
const tx = await contract.update("NEW_MESSAGE");

// Wait for transaction to finish
const receipt = await tx.wait();
```

</TabItem>
</Tabs>

## Fetch User's Private Key

`eth_private_key` is used to fetch the private key of the logged in user. It is only available for `in-app` adapters like `openlogin`.

```js
//Assuming user is already logged in.
async getPrivateKey() {
    const privateKey = await web3auth.provider.request({
        method: "eth_private_key"
    });
    //Do something with privateKey
}
```

## Getting a provider from private key.

`@web3auth/ethereum-provider` package can be used to get a **EIP1193** compatible provider from any **`secp512k1`** private key. You can use this
package with our SDKs, to get an EIP1193 provider from the logged-in user's private key.

```js
import { EthereumPrivateKeyProvider } from "@web3auth/ethereum-provider";

/*
privKey: any secp512k1 private key.
*/

async setProvider(privKey: string) {
    this.ethereumPrivateKeyProvider = new EthereumPrivateKeyProvider({
    config: {
        /*
        pass the chain config that you want to connect with
        all chainConfig fields are required.
        */
        chainConfig: {
        chainId: "0x3",
        rpcTarget: `https://ropsten.infura.io/v3/${YOUR_INFURA_ID}`,
        displayName: "ropsten",
        blockExplorer: "https://ropsten.etherscan.io/",
        ticker: "ETH",
        tickerName: "Ethereum",
        },
    },
    });
    /*
    pass user's private key here.
    after calling setupProvider, we can use
    this.ethereumPrivateKeyProvider._providerProxy as a eip1193 provider
    */
    const provider = await this.ethereumPrivateKeyProvider.setupProvider(privKey);
}
```
